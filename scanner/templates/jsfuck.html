{% extends "base.html" %}
{% block content %}
    <style type="text/css">
    body {
        text-align: left;
        font-family: Lato;
        background: #f5f5f5;
        font-family: 'Open Sans', sans-serif;
        text-align: center;
    }
    input {
    	margin: 0 auto;
		position: relative;
		vertical-align: top;
		width: 150px;
		height: 60px;
		padding: 0;
		font-size: 22px;
		font-weight: 300;
		color: white;
		text-align: center;
		text-shadow: 0 1px 2px rgba(0, 0, 0, 0.25);
		background: #2980b9;
		border: 0;
		border-bottom: 2px solid #2475ab;
		cursor: pointer;
		-webkit-box-shadow: inset 0 -2px #2475ab;
		box-shadow: inset 0 -2px #2475ab;
    }
    .maintex{width:900px;height:500px;position:absolute;top:50%;left:46%;margin-top:-250px;margin-left:-350px}
    input:active {
		top: 1px;
		outline: none;
		-webkit-box-shadow: none;
		box-shadow: none;
	}
	 textarea {
        display: block;
        clear: both;
        margin-bottom: 10px;
        border-radius: 7px;
        padding: 15px 10px;
        font-size: 14px;
        outline: none;
        border: none;
        background-color: #565555;
        color: #fff;
        -moz-transition: all 0.2s ease-in;
        -o-transition: all 0.2s ease-in;
        -webkit-transition: all 0.2s ease-in;
        transition: all 0.2s ease-in;
    }

    </style>
<br />
<br />
<br />

<h1><font color="#337ab7">JSFuck解码</font></h1>
<br />
   <script>
//    function UnFuck() {
//        output = ''
//        source = document.getElementById("txtInput").value
//        if (source.length > 0) {
//            //        strPrefix = '[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]][([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]('
//            //        strPostFix = ')()'

//            //        if (source.indexOf(strPrefix) < 0) {
//            //            source = strPrefix + source + strPostFix
//            //        }
//            l = ''
//            s = source.slice(0, -2)
//            i = s.length
//            if (i > 1000)
//                i = 1000;

//            //first try----------------------------
//            while (i--) {
//                //if ((l = s.slice(i)).split(')').length == l.split('(').length) break
//                l = s.slice(i)
//                if (l.split(')').length == l.split('(').length) {
//                    break;
//                }
//            }
//            //-------------------------------------


//            if (l.length == 0)
//                output = 'ERROR - Failed to decode JsFuck!'
//            else
//                output = eval(l)

//            document.getElementById("txtOutput").value = output

//        }
//    }

function UnFuck() {
        output = ''
        source = document.getElementById("txtInput").value
        
        if (source.length > 0) 
        {
            l = ''
            
            if (source.length > 3 && source.slice(source.length-3) == ')()')
            {
                //eval-ed
                s = source.slice(0, source.length - 2)
                i = s.length
              
                //first try----------------------------
                while (i--) {
                    //if ((l = s.slice(i)).split(')').length == l.split('(').length) break
                    l = s.slice(i)
                    if (l.split(')').length == l.split('(').length) {
                        break;
                    }
                }
                //-------------------------------------
            }
            else
            {
                l = source;
            }
                
            txtResult = eval(l)
            document.getElementById("txtOutput").value = txtResult

        }
    }
</script>

    <div style="width: 100%; height: 100%">
        <table style="width: 100%" border="0">
            <tr>
                <td>
                    <textarea id="txtInput" style="width: 99%;" wrap="on" rows="12"></textarea>
                </td>
            </tr>
            <td>
                <input id="clickMe" type="button" value="JSUnFuck" onclick="UnFuck()"  style="width: 15%" />
            </td>
            <tr>
                <td><br />
                    <textarea id="txtOutput" style="width: 99%;" wrap="off" rows="12"></textarea></td>
            </tr>
        </table>
    </div>

            </div>
        </div>
        <div style="height: 15px">
        </div>
        <div class="CssLabelNormal" style="background-color: #404040; color: white; width: 100%;
            padding-top: 10px; padding-bottom: 10px; font-size: small;" align="center">
            Copyright © 2017 CoderTab.com
        </div>
    </form>

{% endblock %}